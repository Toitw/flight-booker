<h1>Choose your flight</h1><br>
<%= form_with(model: @flight, url: flights_path, method: :get) do |form| %>
  <%= form.label :departure_airport_id, "Departure airport" %>
  <%= form.select :departure_airport_id, options_from_collection_for_select(Airport.all, "id", "code"), prompt: "Select departure airport" %><br>
  <%= form.label :arrival_airport_id, "Arrival airport" %>
  <%= form.select :arrival_airport_id, options_from_collection_for_select(Airport.all, "id", "code"), prompt: "Select arrival airport" %><br>
  <%= form.label :num_passengers, "Number of passengers" %>
  <%= form.select :num_passengers, options_for_select([1, 2, 3, 4]), prompt: "Select number of passengers" %><br>
  <%= form.label :departure_date, "Departure date" %>
  <%= form.select :departure_date, options_for_select(@available_dates.map { |date| [date, date] }), prompt: "Select departure date" %> <br>

  <%= form.submit "Search" %>
<% end %>

<h1>Flights</h1>
<table>
  <thead>
    <tr>
      <th>Departure airport</th>
      <th>Arrival airport</th>
      <th>Departure time</th>
    </tr>
  </thead>
  <tbody>
    <% @flights.each do |flight| %>
      <tr>
        <td><%= flight.departure_airport.code %></td>
        <td><%= flight.arrival_airport.code %></td>
        <td><%= flight.start.strftime("%m/%d/%Y %I:%M %p") %></td>
      </tr>
    <% end %>
  </tbody>
</table>


